# Flight Price Predictor & Web App Implementation Plan

## Goal
Fix the incorrect Machine Learning model (data leakage, improper scaling) and build a clean, functional website to serve the predictions.

## User Review Required
> [!IMPORTANT]
> The original notebook contained **Data Leakage** (scaling before splitting) and scaled the target variable `Price`, leading to incorrect/uninterpretable predictions. I will fix this by separating splitting and scaling, and keeping the target in original currency units.

## Proposed Changes

### Model Training (`train_model.py`)
I will create a python script to replicate the notebook's logic with these fixes:
1.  **Data Loading**: Load [Data_Train.xlsx](file:///c:/Users/anwes/Desktop/anaconda_projects/flight%20ticket%20price%20predictor/Data_Train.xlsx).
2.  **Preprocessing**:
    *   Handle missing values.
    *   Feature Engineering: Extract Day/Month, Convert Duration to minutes.
    *   Encoding: One-Hot Encode Categorical variables (Airline, Source, Destination).
    *   **Correction**: Split into X and y *before* any scaling.
    *   **Correction**: Perform Train/Test Split.
    *   **Correction**: Scale *only* numerical features (if necessary) based on *training set statistics*.
3.  **Model**: Use **Random Forest Regressor** (robust, handles non-linearities better than Linear Regression for this data).
4.  **Serialization**: Save the trained model and any encoders/scalers to `model_objects.pkl` using `joblib` or `pickle`.

### Web Application (`app.py`)
I will build a clean, minimal web interface (White/Grey/Blue theme) using **Streamlit** (for fastest iteration and clean UI) or **Flask** (if strict web-dev style is preferred). Given "fully workable clean website", Streamlit is excellent, but Flask allows more custom "website" feel with HTML/CSS. I will use **Flask** with custom HTML/CSS to satisfy the "connect it to the Model ... just white grey and blue color scheme" requirement precisely.

#### Structure:
*   `app.py`: Flask backend to load model and handle predictions.
*   `templates/index.html`: The frontend form.
*   `static/style.css`: The "white, grey, and blue" CSS.

#### Features:
*   Inputs: Date of Journey, Source, Destination, Airline, Total Stops.
*   Output: Predicted Flight Price.

## Verification Plan

### Automated Tests
*   **Model Script**: Run `python train_model.py` and check for `model_objects.pkl`. Verify R2 score is reasonable (> 0.7).
*   **Web App**: Start `python app.py`. Use `curl` or browser tool to send a POST request with sample data and verify 200 OK + Price prediction.

### Manual Verification
*   Open the website.
*   Input sample flight details (e.g., DEL -> BOM, Jet Airways).
*   Check if the predicted price is a valid positive number.
*   Verify the UI is clean (White/Grey/Blue).
